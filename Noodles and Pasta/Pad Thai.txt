8  ounces rice noodles
1  tablespoon tamarind paste
1 ½  tablespoons fish sauce
1 ½  tablespoons sugar
1  tablespoon lime juice
4  cups broccoli florets
1  carrot, thinly sliced
1/2  cup canola oil
2  teaspoons minced garlic
1  teaspoon minced ginger
16  large shrimp, peeled and deveined
2  large eggs, lightly beaten
3  scallions, thinly sliced
1  cup bean sprouts
1/3  cup chopped salted peanuts
3  tablespoons chopped cilantro
1  lime, cut into wedges
 Sesame seeds
 Red pepper flakes (optional)

Place the noodles in a bowl and cover with cold water. Let sit for 1 hour. Meanwhile, in a small bowl, whisk together the tamarind paste, fish sauce, sugar, lime juice and 1/4 cup water; set aside. Lightly steam the broccoli and carrot; set aside.

Drain the noodles. Set a wok over high heat for 1 minute, then add the oil and heat until almost smoking. Add the garlic and ginger; sauté for 30 seconds. Add the shrimp and sauté until almost cooked through, 2 to 3 minutes. Transfer the shrimp to a plate, leaving the oil in the pan.

Add the noodles and stir-fry for 1 minute. Pour in three-quarters of the tamarind sauce and toss to coat the noodles. Add more sauce if needed. Cook until the noodles are al dente, then push them to one side of the wok and scramble the eggs in the remaining space. Add the shrimp, broccoli, carrot, scallions, bean sprouts and half the peanuts. Toss to mix. Divide among 4 plates and garnish with the remaining peanuts, the cilantro, lime wedges, sesame seeds and (for brave children) red pepper flakes.