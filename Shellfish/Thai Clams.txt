1  tablespoon coconut oil
1  red onion, peeled, halved and sliced into 1/4-inch half-moons
2  cups chicken broth
1  stalk lemongrass, pale bottom part only, smashed and cut in thick diagonal slices
3  slices galangal, 1/4 inch thick (see note)
3  slices ginger, 1/4 inch thick
3 or 4  small hot Thai chiles, thinly sliced
4  makrut lime leaves (kaffir leaves), torn
1  tablespoon palm sugar or brown sugar
1  tablespoon fish sauce
1  cup coconut milk
 Salt, to taste
2  pounds small clams
1  cup roughly chopped cilantro, leaves and tender stems
½  cup thinly sliced scallions, white and tender green parts
 Lime wedges, for serving

Heat coconut oil in a heavy-bottomed soup pot over medium-high heat. Add onions and cook until softened, about 5 minutes. Add chicken broth and bring to a simmer.

Add lemongrass, galangal, ginger, chiles, lime leaves, sugar and fish sauce. Simmer for 20 minutes. Add coconut milk, then taste broth for salt and adjust. (You may prepare up to this point 1 to 2 hours in advance and leave at room temperature.)

Bring mixture to a boil over high heat and add clams. Cover and cook for 5 to 8 minutes, stirring once or twice, until all clams have opened.

Transfer clams to soup bowls. Strain broth if desired and ladle over clams. Sprinkle with cilantro and scallions. Squeeze lime over each bowl and serve with lime wedges.