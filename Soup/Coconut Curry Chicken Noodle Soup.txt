2  tablespoons vegetable oil
1  small onion, minced
1  tablespoon minced ginger
1  tablespoon minced lemon grass or pale green cilantro roots
2  cloves garlic, minced
1  teaspoon dark red chili paste, such as sambal, more for serving
¾  pound boneless, skinless chicken thigh or breast meat, thinly sliced and cut into bite-size pieces
3  tablespoons curry powder, preferably Malaysian, Thai or Vietnamese
½  teaspoon paprika
1  can (14 ounces) unsweetened coconut milk
½  cup half-and-half
4  cups chicken stock
¼  teaspoon ground turmeric
2  tablespoons fish sauce
1  tablespoon sugar, more to taste
 About 12 kaffir lime leaves or curry leaves, fresh or frozen (optional); can substitute more lime juice
8  ounces dried thin rice noodles (bun or vermicelli), or other Asian noodles such as udon or lai fun
 Salt to taste
1  cup bean sprouts
3  tablespoons chopped cilantro
2  scallions, cut into thin rings
2  shallots, thinly sliced and deep fried in vegetable oil until brown (optional)
 Quartered limes for serving

Heat oil in a medium pot over medium heat. Add onion, ginger and lemon grass and cook, stirring, until softened, about 10 minutes. Do not brown; reduce heat if necessary. Add garlic and chili paste and stir until fragrant. Raise heat, add chicken and stir-fry one minute. Add curry powder and paprika and stir to coat. Then add coconut milk, half-and-half, chicken stock, turmeric, fish sauce, sugar and lime or curry leaves. Bring to a boil, then reduce heat and simmer until chicken is cooked through, about 7 minutes.

Meanwhile, cook rice noodles in boiling water according to package directions (about 4 minutes). Rinse and drain.

Taste broth and adjust seasonings with salt and sugar. Divide noodles into large soup bowls. Bring broth to a boil, then ladle over noodles. Top with bean sprouts, cilantro, scallions and fried shallots, if using. Pass limes and sambal at the table.